<!-- /views/index.ejs -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Poke Fantasia</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS",
          sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background: linear-gradient(
            135deg,
            #1a1a2e,
            #16213e,
            #6a046a,
            #0f3460,
            #1a1a2e
          );
        background-image: url("/assets/background.jpeg");
        background-color: #1a1a2e;
        background-size: cover;
        animation: gradientBackground 15s ease infinite;
        color: #ffffff;
      }

      div {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      h1 {
        font-size: 3rem;
        font-weight: bold;
        text-transform: uppercase;
        text-shadow: 0 0 20px #0088ff, 0 0 30px #0084ff;
        margin-bottom: 1.5rem;
      }

      p {
        font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS",
          sans-serif;
        font-size: 1rem;
        margin-bottom: 1.5rem;
        max-width: 500px;
        line-height: 1.3;
        text-align: justify;
      }

      form {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.37);
        display: flex;
        flex-direction: column;
        gap: 15px;
        width: 400px;
      }

      label {
        font-size: 1rem;
        font-weight: bold;
        margin-bottom: 5px;
        color: #fff;
        text-align: center;
      }

      input,
      select,
      button {
        width: 100%;
        padding: 10px;
        font-size: 1rem;
        border: none;
        border-radius: 5px;
        margin-bottom: 10px;
      }

      input,
      select {
        background: rgba(255, 255, 255, 0.2);
        color: #fff;
        outline: none;
      }

      input::placeholder,
      select {
        color: #ccc;
      }

      button {
        background: linear-gradient(90deg, #ff0080, #ff8c00);
        color: #fff;
        font-weight: bold;
        cursor: pointer;
        transition: background 0.3s ease, transform 0.3s ease;
        text-transform: uppercase;
      }

      button:hover {
        background: linear-gradient(90deg, #ff8c00, #ff0080);
        transform: scale(1.05);
      }

      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <div>
      <h1>Poke Fantasia</h1>
      <p>
        Welcome to Poke Fantasia, your go-to platform for transforming Pok√©mon
        images! This website offers three exciting functionalities: type
        identification, type transformation, and style conversion. Try it!
      </p>

      <form action="/upload" method="POST" enctype="multipart/form-data">
        <label for="image">Upload a pokemon image...</label>
        <input type="file" name="image" id="image" accept="image/*" required />

        <label for="option">Choose an option below...</label>
        <select
          name="option"
          id="option"
          required
          onchange="handleOptionChange()"
        >
          <option value="" disabled selected>Select an option</option>
          <option value="classify">Classify my pokemon</option>
          <option value="transform">Transform my type</option>
          <option value="transfer">Transfer image style</option>
        </select>

        <div id="typeDropdown" class="hidden">
          <label for="target_type">Choose the desired type...</label>
          <select name="target_type" id="target_type">
            <option value="" disabled selected>Select a type</option>
            <option value="normal">Normal</option>
            <option value="fire">Fire</option>
            <option value="water">Water</option>
            <option value="electric">Electric</option>
            <option value="grass">Grass</option>
            <option value="ice">Ice</option>
            <option value="fighting">Fighting</option>
            <option value="poison">Poison</option>
            <option value="ground">Ground</option>
            <option value="flying">Flying</option>
            <option value="psychic">Psychic</option>
            <option value="bug">Bug</option>
            <option value="rock">Rock</option>
            <option value="ghost">Ghost</option>
            <option value="dragon">Dragon</option>
            <option value="dark">Dark</option>
            <option value="steel">Steel</option>
            <option value="fairy">Fairy</option>
          </select>
        </div>

        <div id="styleDropdown" class="hidden">
          <label for="target_format">Choose the desired style...</label>
          <select name="target_format" id="target_format">
            <option value="" disabled selected>Select a style</option>
            <option value="sketch">Sketch</option>
            <option value="colorsketch">Color Sketch</option>
            <option value="comic">Comic</option>
            <option value="abstract">Abstract</option>
            <option value="stylization">Stylization</option>
            <option value="grayscale">Grayscale</option>
          </select>
        </div>

        <button type="submit">Upload and Process</button>
      </form>
    </div>

    <script>
      function handleOptionChange() {
        const option = document.getElementById("option").value;
        const typeDropdown = document.getElementById("typeDropdown");
        const styleDropdown = document.getElementById("styleDropdown");

        // Hide both dropdowns by default
        typeDropdown.classList.add("hidden");
        styleDropdown.classList.add("hidden");

        // Show the appropriate dropdown based on selection
        if (option === "transform") {
          typeDropdown.classList.remove("hidden");
        } else if (option === "transfer") {
          styleDropdown.classList.remove("hidden");
        }
      }
    </script>
  </body>
</html>
